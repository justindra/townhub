import { expect, haveOutput } from '@aws-cdk/assert';
import { App } from '@serverless-stack/resources';
import ApiGatewayStack from './api-gateway';

describe('ApiGatewayStack', () => {
  const app = new App();
  const stack = new ApiGatewayStack(app, 'test-ApiGatewayStack', {
    rootDomainName: 'townhub.ca',
  });

  it('should have outputs that we need for other stacks', () => {
    expect(stack).to(haveOutput({ outputName: 'ApiGatewayRestApiId' }));
    expect(stack).to(
      haveOutput({ outputName: 'ApiGatewayRestApiRootResourceId' })
    );
    expect(stack).to(haveOutput({ outputName: 'ApiDomainName' }));
  });
});
